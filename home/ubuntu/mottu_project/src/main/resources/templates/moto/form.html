<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="fragmentos/layout :: conteudo">
<body>
<h2 th:text="${motoDTO.id} != null ? 'Editar Moto' : 'Nova Moto'"></h2>

<div th:if="${#fields.hasErrors('motoDTO.*')}" class="alert alert-danger">
    <p>Por favor, corrija os seguintes erros:</p>
    <ul>
        <li th:each="err : ${#fields.errors('motoDTO.*')}" th:text="${err}"></li>
    </ul>
</div>

<form th:action="${motoDTO.id} != null ? @{'/admin/motos/' + ${motoDTO.id}} : @{/admin/motos}" method="post" th:object="${motoDTO}">
  <div class="form-group">
    <label for="placa">Placa:</label>
    <input type="text" id="placa" th:field="*{placa}" class="form-control" th:classappend="${#fields.hasErrors('placa')} ? 'is-invalid' : ''">
    <div class="invalid-feedback" th:if="${#fields.hasErrors('placa')}" th:errors="*{placa}"></div>
  </div>
  <div class="form-group">
    <label for="modelo">Modelo:</label>
    <input type="text" id="modelo" th:field="*{modelo}" class="form-control" th:classappend="${#fields.hasErrors('modelo')} ? 'is-invalid' : ''">
    <div class="invalid-feedback" th:if="${#fields.hasErrors('modelo')}" th:errors="*{modelo}"></div>
  </div>
  <div class="form-group">
    <label for="ano">Ano:</label>
    <input type="number" id="ano" th:field="*{ano}" class="form-control" th:classappend="${#fields.hasErrors('ano')} ? 'is-invalid' : ''">
    <div class="invalid-feedback" th:if="${#fields.hasErrors('ano')}" th:errors="*{ano}"></div>
  </div>
  <div class="form-group">
    <label for="valorDiaria">Valor da Diária:</label>
    <input type="number" step="0.01" id="valorDiaria" th:field="*{valorDiaria}" class="form-control" th:classappend="${#fields.hasErrors('valorDiaria')} ? 'is-invalid' : ''">
    <div class="invalid-feedback" th:if="${#fields.hasErrors('valorDiaria')}" th:errors="*{valorDiaria}"></div>
  </div>
  <!-- O campo 'disponivel' será gerenciado pelo serviço de locação, não diretamente pelo formulário de edição da moto -->
  <button type="submit" class="btn btn-primary">Salvar</button>
</form>
</body>
</html>

